{"version":3,"sources":["components/SpectrumView.js","App.js","reportWebVitals.js","index.js"],"names":["SpectrumView","ref","useRef","zoomRef","xScaleRef","markerRef","markerLabelRef","hoverLineRef","margin","showAllocations","setShowAllocations","useState","showSignals","setShowSignals","useEffect","d3","current","selectAll","remove","svg","attr","style","append","zoomLayer","allocLayer","allocTextLayer","labelLayer","markerLayer","signalGroup","x","domain","range","xAxis","ticks","call","data","allocations","enter","d","start","end","color","text","label","usage","bands","hoverLine","signals","frequency","on","_","goToFrequency","preventDefault","target","elements","freq","value","toString","description","marker","markerLabel","zoom","scaleExtent","translateExtent","extent","event","zx","transform","rescaleX","tickFormat","scale","visibleHz","toFixed","formatAxis","select","map","positions","transition","duration","i","Math","abs","markerX","fx","e","input","trim","toLowerCase","parseFloat","includes","isNaN","width","node","getBoundingClientRect","bandwidth","tx","translate","React","createElement","backgroundColor","padding","minHeight","onSubmit","marginBottom","type","name","placeholder","marginRight","background","onClick","resetZoom","marginLeft","checked","onChange","band","key","zoomToBand","border","height","App","className","reportWebVitals","onPerfEntry","Function","__webpack_require__","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.1ad940ca.chunk.js","sourcesContent":["// src/components/SpectrumView.js\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport * as d3 from 'd3';\r\nimport bands from '../data/bands.json';\r\nimport allocations from '../data/allocations.json';\r\nimport signals from '../data/signals.json';\r\n\r\nconst SpectrumView = () => {\r\n  const ref = useRef();\r\n  const zoomRef = useRef();\r\n  const xScaleRef = useRef();\r\n  const markerRef = useRef();\r\n  const markerLabelRef = useRef();\r\n  const hoverLineRef = useRef();\r\n  const margin = { top: 20, right: 20, bottom: 40, left: 20 };\r\n  const [showAllocations, setShowAllocations] = useState(true);\r\n  const [showSignals, setShowSignals] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const width = 1200;\r\n    const height = 300;\r\n\r\n    d3.select(ref.current).selectAll(\"*\").remove();\r\n\r\n    const svg = d3.select(ref.current)\r\n      .attr(\"viewBox\", `0 0 ${width} ${height}`)\r\n      .style(\"background\", \"#1e1e1e\");\r\n\r\n    svg.append(\"defs\")\r\n      .append(\"pattern\")\r\n      .attr(\"id\", \"diagonal-stripes\")\r\n      .attr(\"patternUnits\", \"userSpaceOnUse\")\r\n      .attr(\"width\", 8)\r\n      .attr(\"height\", 8)\r\n      .append(\"path\")\r\n      .attr(\"d\", \"M-2,2 l4,-4 M0,8 l8,-8 M6,10 l4,-4\")\r\n      .attr(\"stroke\", \"white\")\r\n      .attr(\"stroke-opacity\", 0.05)\r\n      .attr(\"stroke-width\", 1);\r\n\r\n    const zoomLayer = svg.append(\"g\").attr(\"class\", \"zoom-layer\");\r\n    const allocLayer = svg.append(\"g\").attr(\"class\", \"alloc-layer\");\r\n    const allocTextLayer = svg.append(\"g\").attr(\"class\", \"alloc-text-layer\");\r\n    const labelLayer = svg.append(\"g\").attr(\"class\", \"label-layer\");\r\n    const markerLayer = svg.append(\"g\").attr(\"class\", \"marker-layer\");\r\n    const signalGroup = svg.append(\"g\").attr(\"class\", \"signal-group\");\r\n\r\n    const x = d3.scaleLinear()\r\n      .domain([0, 300_000_000_000])\r\n      .range([margin.left, width - margin.right]);\r\n\r\n    xScaleRef.current = x;\r\n\r\n    const xAxis = d3.axisBottom(x).ticks(12);\r\n\r\n    zoomLayer.append(\"g\")\r\n      .attr(\"transform\", `translate(0, ${height - margin.bottom})`)\r\n      .attr(\"class\", \"x-axis\")\r\n      .call(xAxis)\r\n      .selectAll(\"text\")\r\n      .attr(\"fill\", \"#ccc\");\r\n\r\n    const formatAxis = (scale) => {\r\n      const visibleHz = scale.domain()[1] - scale.domain()[0];\r\n      if (visibleHz < 1_000) return d => `${d.toFixed(0)} Hz`;\r\n      if (visibleHz < 1_000_000) return d => `${(d / 1e3).toFixed(2)} kHz`;\r\n      if (visibleHz < 1_000_000_000) return d => `${(d / 1e6).toFixed(2)} MHz`;\r\n      return d => `${(d / 1e9).toFixed(2)} GHz`;\r\n    };\r\n\r\n    allocLayer.selectAll(\"rect\")\r\n      .data(allocations)\r\n      .enter()\r\n      .append(\"rect\")\r\n      .attr(\"x\", d => x(d.start))\r\n      .attr(\"y\", 30)\r\n      .attr(\"width\", d => x(d.end) - x(d.start))\r\n      .attr(\"height\", 150)\r\n      .attr(\"fill\", d => d.color || \"#555\")\r\n      .attr(\"fill-opacity\", 0.15)\r\n      .attr(\"class\", \"allocation-band\")\r\n      .style(\"display\", showAllocations ? \"block\" : \"none\")\r\n      .append(\"title\")\r\n      .text(d => `${d.label}: ${d.usage}`);\r\n\r\n    allocTextLayer.selectAll(\"text\")\r\n      .data(allocations)\r\n      .enter()\r\n      .append(\"text\")\r\n      .attr(\"x\", d => (x(d.start) + x(d.end)) / 2)\r\n      .attr(\"y\", 190)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .attr(\"fill\", \"#aaa\")\r\n      .attr(\"font-size\", \"10px\")\r\n      .text(d => d.label)\r\n      .style(\"display\", d => showAllocations ? \"block\" : \"none\");\r\n\r\n    const bandsGroup = zoomLayer.append(\"g\");\r\n\r\n    bandsGroup.selectAll(\"rect\")\r\n      .data(bands)\r\n      .enter()\r\n      .append(\"rect\")\r\n      .attr(\"x\", d => x(d.start))\r\n      .attr(\"y\", 50)\r\n      .attr(\"width\", d => x(d.end) - x(d.start))\r\n      .attr(\"height\", 100)\r\n      .attr(\"fill\", \"url(#diagonal-stripes)\")\r\n      .attr(\"fill-opacity\", 1)\r\n      .attr(\"stroke\", d => d.color)\r\n      .attr(\"stroke-width\", 2)\r\n      .append(\"title\")\r\n      .text(d => d.label);\r\n\r\n    labelLayer.selectAll(\"text\")\r\n      .data(bands)\r\n      .enter()\r\n      .append(\"text\")\r\n      .attr(\"x\", d => x((d.start + d.end) / 2))\r\n      .attr(\"y\", 140)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .attr(\"fill\", \"#fff\")\r\n      .attr(\"font-size\", \"14px\")\r\n      .attr(\"font-weight\", \"bold\")\r\n      .text(d => d.label);\r\n\r\n    const hoverLine = markerLayer.append(\"line\")\r\n      .attr(\"y1\", 0)\r\n      .attr(\"y2\", height)\r\n      .attr(\"stroke\", \"#888\")\r\n      .attr(\"stroke-dasharray\", \"4 2\")\r\n      .attr(\"stroke-width\", 1)\r\n      .style(\"display\", \"none\");\r\n\r\n    hoverLineRef.current = hoverLine;\r\n\r\n    const signalCircles = signalGroup.selectAll(\"circle\")\r\n      .data(signals)\r\n      .enter()\r\n      .append(\"circle\")\r\n      .attr(\"cx\", d => x(d.frequency))\r\n      .attr(\"cy\", 20)\r\n      .attr(\"r\", 5)\r\n      .attr(\"fill\", d => d.color || \"#ff0\")\r\n      .style(\"cursor\", \"pointer\")\r\n      .on(\"click\", (_, d) => goToFrequency({ preventDefault: () => {}, target: { elements: { freq: { value: d.frequency.toString() } } } }))\r\n      .on(\"mouseover\", (_, d) => {\r\n        hoverLineRef.current\r\n          .attr(\"x1\", x(d.frequency))\r\n          .attr(\"x2\", x(d.frequency))\r\n          .style(\"display\", \"block\");\r\n      })\r\n      .on(\"mouseout\", () => {\r\n        hoverLineRef.current.style(\"display\", \"none\");\r\n      })\r\n      .append(\"title\")\r\n      .text(d => `${d.label}\\n${d.description || ''}`);\r\n\r\n    const signalTexts = signalGroup.selectAll(\"text\")\r\n      .data(signals)\r\n      .enter()\r\n      .append(\"text\")\r\n      .attr(\"x\", d => x(d.frequency))\r\n      .attr(\"y\", 35)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .attr(\"fill\", \"#ddd\")\r\n      .attr(\"font-size\", \"10px\")\r\n      .text(d => d.label);\r\n\r\n    const marker = markerLayer.append(\"line\")\r\n      .attr(\"y1\", 30)\r\n      .attr(\"y2\", height - margin.bottom)\r\n      .attr(\"stroke\", \"#ff4081\")\r\n      .attr(\"stroke-width\", 2)\r\n      .style(\"display\", \"none\")\r\n      .style(\"cursor\", \"pointer\")\r\n      .on(\"click\", () => {\r\n        marker.style(\"display\", \"none\");\r\n        markerLabel.style(\"display\", \"none\");\r\n      });\r\n\r\n    const markerLabel = markerLayer.append(\"text\")\r\n      .attr(\"y\", 20)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .attr(\"fill\", \"#ff4081\")\r\n      .attr(\"font-size\", \"12px\")\r\n      .style(\"display\", \"none\")\r\n      .style(\"pointer-events\", \"none\");\r\n\r\n    markerRef.current = marker;\r\n    markerLabelRef.current = markerLabel;\r\n\r\n    const zoom = d3.zoom()\r\n      .scaleExtent([1, 1e8])\r\n      .translateExtent([[0, 0], [width, height]])\r\n      .extent([[0, 0], [width, height]])\r\n      .on(\"zoom\", (event) => {\r\n        const transform = event.transform;\r\n        const zx = transform.rescaleX(x);\r\n\r\n        xAxis.tickFormat(formatAxis(zx));\r\n        zoomLayer.select(\".x-axis\").call(xAxis.scale(zx)).selectAll(\"text\").attr(\"fill\", \"#ccc\");\r\n\r\n        allocLayer.selectAll(\"rect\")\r\n          .attr(\"x\", d => zx(d.start))\r\n          .attr(\"width\", d => zx(d.end) - zx(d.start));\r\n\r\n        allocTextLayer.selectAll(\"text\")\r\n          .attr(\"x\", d => (zx(d.start) + zx(d.end)) / 2)\r\n          .style(\"display\", d => (zx(d.end) - zx(d.start)) < 40 ? \"none\" : \"block\");\r\n\r\n        zoomLayer.selectAll(\"rect\")\r\n          .attr(\"x\", d => zx(d.start))\r\n          .attr(\"width\", d => zx(d.end) - zx(d.start));\r\n\r\n        labelLayer.selectAll(\"text\")\r\n          .attr(\"x\", d => (zx(d.start) + zx(d.end)) / 2)\r\n          .style(\"display\", d => (zx(d.end) - zx(d.start)) < 40 ? \"none\" : \"block\");\r\n\r\n        // Dynamically hide overlapping signal markers and labels\r\n        const signalPositions = signals.map(d => zx(d.frequency));\r\n        const signalThreshold = 10; // Minimum px spacing to show labels\r\n\r\n        const positions = signals.map(d => zx(d.frequency));\r\n        signalGroup.selectAll(\"circle\")\r\n          .attr(\"cx\", d => zx(d.frequency))\r\n          .transition()\r\n          .duration(200)\r\n          .style(\"opacity\", (_, i) => showSignals && (i === 0 || Math.abs(positions[i] - positions[i - 1]) > 20) ? 1 : 0);\r\n\r\n        signalGroup.selectAll(\"text\")\r\n          .attr(\"x\", d => zx(d.frequency))\r\n          .transition()\r\n          .duration(200)\r\n          .style(\"opacity\", (_, i) => showSignals && (i === 0 || Math.abs(positions[i] - positions[i - 1]) > 20) ? 1 : 0);\r\n\r\n        if (markerRef.current && markerRef.current.style(\"display\") !== \"none\") {\r\n          const markerX = +markerRef.current.attr(\"data-freq\");\r\n          const fx = zx(markerX);\r\n          markerRef.current.attr(\"x1\", fx).attr(\"x2\", fx);\r\n          markerLabelRef.current.attr(\"x\", fx);\r\n        }\r\n\r\n        if (hoverLineRef.current) hoverLineRef.current.style(\"display\", \"none\");\r\n      });\r\n\r\n    svg.call(zoom);\r\n    zoomRef.current = zoom;\r\n  }, [showAllocations, showSignals]);\r\n\r\n  const resetZoom = () => {\r\n    const svg = d3.select(ref.current);\r\n    svg.transition().duration(500).call(zoomRef.current.transform, d3.zoomIdentity);\r\n    if (markerRef.current) markerRef.current.style(\"display\", \"none\");\r\n    if (markerLabelRef.current) markerLabelRef.current.style(\"display\", \"none\");\r\n  };\r\n\r\n  const zoomToBand = (band) => {\r\n    const svg = d3.select(ref.current);\r\n    const width = svg.node().getBoundingClientRect().width;\r\n    const x = xScaleRef.current;\r\n    const scale = width / (x(band.end) - x(band.start));\r\n    const tx = -x(band.start) * scale + margin.left;\r\n    const transform = d3.zoomIdentity.translate(tx, 0).scale(scale);\r\n    svg.transition().duration(500).call(zoomRef.current.transform, transform);\r\n  };\r\n\r\n  const goToFrequency = (e) => {\r\n    e.preventDefault();\r\n    const input = e.target.elements.freq.value.trim().toLowerCase();\r\n    let freq = parseFloat(input);\r\n    if (input.includes(\"ghz\")) freq *= 1e9;\r\n    else if (input.includes(\"mhz\")) freq *= 1e6;\r\n    else if (input.includes(\"khz\")) freq *= 1e3;\r\n    if (isNaN(freq)) return;\r\n\r\n    const svg = d3.select(ref.current);\r\n    const width = svg.node().getBoundingClientRect().width;\r\n    const x = xScaleRef.current;\r\n\r\n    const bandwidth = 100_000;\r\n    const scale = width / (x(freq + bandwidth / 2) - x(freq - bandwidth / 2));\r\n    const tx = -x(freq) * scale + width / 2;\r\n    const transform = d3.zoomIdentity.translate(tx, 0).scale(scale);\r\n\r\n    svg.transition().duration(500).call(zoomRef.current.transform, transform);\r\n\r\n    if (markerRef.current) {\r\n      markerRef.current\r\n        .attr(\"x1\", x(freq))\r\n        .attr(\"x2\", x(freq))\r\n        .attr(\"data-freq\", freq)\r\n        .style(\"display\", \"block\");\r\n    }\r\n    if (markerLabelRef.current) {\r\n      const label = freq >= 1e9 ? `${(freq / 1e9).toFixed(3)} GHz`\r\n        : freq >= 1e6 ? `${(freq / 1e6).toFixed(3)} MHz`\r\n        : freq >= 1e3 ? `${(freq / 1e3).toFixed(3)} kHz`\r\n        : `${freq.toFixed(0)} Hz`;\r\n      markerLabelRef.current\r\n        .attr(\"x\", x(freq))\r\n        .text(label)\r\n        .style(\"display\", \"block\");\r\n    }\r\n  };\r\n\r\n  const toggleAllocations = () => {\r\n    setShowAllocations(prev => !prev);\r\n  };\r\n\r\n  return (\r\n    <div style={{ backgroundColor: '#121212', padding: '1rem', minHeight: '100vh', color: 'white' }}>\r\n      <h2>SignalAtlas</h2>\r\n  \r\n      <form onSubmit={goToFrequency} style={{ marginBottom: '10px' }}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"freq\"\r\n          placeholder=\"Enter frequency (e.g. 4625, 2.4GHz)\"\r\n          style={{ padding: '6px', marginRight: '8px', width: '200px' }}\r\n        />\r\n        <button type=\"submit\" style={{ padding: '6px 12px', background: '#333', color: 'white' }}>Go</button>\r\n        <button type=\"button\" onClick={resetZoom} style={{ marginLeft: '10px', padding: '6px 12px' }}>Reset Zoom</button>\r\n      </form>\r\n  \r\n      <div style={{ marginBottom: '10px' }}>\r\n        <label style={{ marginRight: '20px' }}>\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={showAllocations}\r\n            onChange={() => setShowAllocations(!showAllocations)}\r\n            style={{ marginRight: '6px' }}\r\n          />\r\n          Show Allocations\r\n        </label>\r\n        <label>\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={showSignals}\r\n            onChange={() => setShowSignals(!showSignals)}\r\n            style={{ marginRight: '6px' }}\r\n          />\r\n          Show Signal Markers\r\n        </label>\r\n      </div>\r\n  \r\n      <div style={{ marginBottom: '10px' }}>\r\n        {bands.map((band, i) => (\r\n          <button\r\n            key={i}\r\n            onClick={() => zoomToBand(band)}\r\n            style={{\r\n              marginRight: '6px',\r\n              padding: '4px 8px',\r\n              background: '#222',\r\n              color: '#fff',\r\n              border: '1px solid #444'\r\n            }}\r\n          >\r\n            {band.name || band.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n  \r\n      <svg ref={ref} width=\"100%\" height=\"400px\" />\r\n    </div>\r\n  );  \r\n};\r\n\r\nexport default SpectrumView;","import React from 'react';\nimport SpectrumView from './components/SpectrumView';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>ðŸ“¡ SignalAtlas</h1>\n      <SpectrumView />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}